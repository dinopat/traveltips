<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href="scriptsql.xsl"?>
<root xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<database includeDrop="true">traveltips</database>
<procedures>
		
		<procedure owner="dbo" name="tbl_QuocGia_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_QuocGia table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_QuocGia],
					[TenQG],
					[MaQG],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_QuocGia]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_QuocGia_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_QuocGia table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_QuocGia] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_QuocGia])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_QuocGia]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_QuocGia]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_QuocGia], O.[TenQG], O.[MaQG], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_QuocGia] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_QuocGia] = PageIndex.[id_QuocGia]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_QuocGia]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_QuocGia_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_QuocGia table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuocGia" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenQg" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@MaQg" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_QuocGia]
					(
					[TenQG]
					,[MaQG]
					,[MoTa]
					,[Flag]
					)
				VALUES
					(
					@TenQg
					,@MaQg
					,@MoTa
					,@Flag
					)
				
				-- Get the identity value
				SET @IdQuocGia = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_QuocGia_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_QuocGia table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuocGia" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenQg" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@MaQg" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_QuocGia]
				SET
					[TenQG] = @TenQg
					,[MaQG] = @MaQg
					,[MoTa] = @MoTa
					,[Flag] = @Flag
				WHERE
[id_QuocGia] = @IdQuocGia 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_QuocGia_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_QuocGia table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuocGia" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_QuocGia] WITH (ROWLOCK) 
				WHERE
					[id_QuocGia] = @IdQuocGia
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_QuocGia_GetByIdQuocGia" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_QuocGia table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuocGia" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_QuocGia],
					[TenQG],
					[MaQG],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_QuocGia]
				WHERE
					[id_QuocGia] = @IdQuocGia
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_QuocGia_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_QuocGia table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuocGia" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenQg" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@MaQg" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_QuocGia]
	, [TenQG]
	, [MaQG]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_QuocGia]
    WHERE 
	 ([id_QuocGia] = @IdQuocGia OR @IdQuocGia is null)
	AND ([TenQG] = @TenQg OR @TenQg is null)
	AND ([MaQG] = @MaQg OR @MaQg is null)
	AND ([MoTa] = @MoTa OR @MoTa is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_QuocGia]
	, [TenQG]
	, [MaQG]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_QuocGia]
    WHERE 
	 ([id_QuocGia] = @IdQuocGia AND @IdQuocGia is not null)
	OR ([TenQG] = @TenQg AND @TenQg is not null)
	OR ([MaQG] = @MaQg AND @MaQg is not null)
	OR ([MoTa] = @MoTa AND @MoTa is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_QuocGia_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_QuocGia table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_QuocGia] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_QuocGia] )
				SELECT TOP {3} [id_QuocGia]
				FROM [dbo].[tbl_QuocGia] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_QuocGia], O.[TenQG], O.[MaQG], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_QuocGia] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_QuocGia] = PageIndex.[id_QuocGia]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_QuocGia] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Admin_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_Admin table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_Admin],
					[TenDangNhap],
					[Email],
					[Password],
					[HoTen],
					[DienThoai],
					[Flag]
				FROM
					[dbo].[tbl_Admin]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Admin_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Admin table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Admin] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_Admin])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_Admin]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Admin]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_Admin], O.[TenDangNhap], O.[Email], O.[Password], O.[HoTen], O.[DienThoai], O.[Flag]
				FROM
				    [dbo].[tbl_Admin] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_Admin] = PageIndex.[id_Admin]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Admin]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_Admin_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_Admin table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdAdmin" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenDangNhap" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Email" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Password" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HoTen" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@DienThoai" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_Admin]
					(
					[TenDangNhap]
					,[Email]
					,[Password]
					,[HoTen]
					,[DienThoai]
					,[Flag]
					)
				VALUES
					(
					@TenDangNhap
					,@Email
					,@Password
					,@HoTen
					,@DienThoai
					,@Flag
					)
				
				-- Get the identity value
				SET @IdAdmin = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Admin_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_Admin table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdAdmin" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenDangNhap" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Email" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Password" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HoTen" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@DienThoai" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_Admin]
				SET
					[TenDangNhap] = @TenDangNhap
					,[Email] = @Email
					,[Password] = @Password
					,[HoTen] = @HoTen
					,[DienThoai] = @DienThoai
					,[Flag] = @Flag
				WHERE
[id_Admin] = @IdAdmin 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Admin_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_Admin table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdAdmin" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_Admin] WITH (ROWLOCK) 
				WHERE
					[id_Admin] = @IdAdmin
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Admin_GetByIdAdmin" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_Admin table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdAdmin" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_Admin],
					[TenDangNhap],
					[Email],
					[Password],
					[HoTen],
					[DienThoai],
					[Flag]
				FROM
					[dbo].[tbl_Admin]
				WHERE
					[id_Admin] = @IdAdmin
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_Admin_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_Admin table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdAdmin" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenDangNhap" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Email" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Password" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@HoTen" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@DienThoai" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_Admin]
	, [TenDangNhap]
	, [Email]
	, [Password]
	, [HoTen]
	, [DienThoai]
	, [Flag]
    FROM
	[dbo].[tbl_Admin]
    WHERE 
	 ([id_Admin] = @IdAdmin OR @IdAdmin is null)
	AND ([TenDangNhap] = @TenDangNhap OR @TenDangNhap is null)
	AND ([Email] = @Email OR @Email is null)
	AND ([Password] = @Password OR @Password is null)
	AND ([HoTen] = @HoTen OR @HoTen is null)
	AND ([DienThoai] = @DienThoai OR @DienThoai is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_Admin]
	, [TenDangNhap]
	, [Email]
	, [Password]
	, [HoTen]
	, [DienThoai]
	, [Flag]
    FROM
	[dbo].[tbl_Admin]
    WHERE 
	 ([id_Admin] = @IdAdmin AND @IdAdmin is not null)
	OR ([TenDangNhap] = @TenDangNhap AND @TenDangNhap is not null)
	OR ([Email] = @Email AND @Email is not null)
	OR ([Password] = @Password AND @Password is not null)
	OR ([HoTen] = @HoTen AND @HoTen is not null)
	OR ([DienThoai] = @DienThoai AND @DienThoai is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_Admin_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Admin table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Admin] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_Admin] )
				SELECT TOP {3} [id_Admin]
				FROM [dbo].[tbl_Admin] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_Admin], O.[TenDangNhap], O.[Email], O.[Password], O.[HoTen], O.[DienThoai], O.[Flag]
				FROM
				    [dbo].[tbl_Admin] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_Admin] = PageIndex.[id_Admin]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_Admin] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_SanPham_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_SanPham table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_SanPham],
					[id_CongTy],
					[id_LoaiSP],
					[id_TuDien],
					[TenSP],
					[MaSP],
					[Gia],
					[MoTaNgan],
					[MoTaChiTiet],
					[AnhMinhHoa],
					[Flag]
				FROM
					[dbo].[tbl_SanPham]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_SanPham_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_SanPham table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_SanPham] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_SanPham])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_SanPham]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_SanPham]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_SanPham], O.[id_CongTy], O.[id_LoaiSP], O.[id_TuDien], O.[TenSP], O.[MaSP], O.[Gia], O.[MoTaNgan], O.[MoTaChiTiet], O.[AnhMinhHoa], O.[Flag]
				FROM
				    [dbo].[tbl_SanPham] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_SanPham] = PageIndex.[id_SanPham]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_SanPham]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_SanPham_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_SanPham table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdSanPham" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLoaiSp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdTuDien" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenSp" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@MaSp" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Gia" type="money" direction="Input" size="8" precision="19" scale="4" param="" nulldefault=""/>
				<parameter name="@MoTaNgan" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@MoTaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@AnhMinhHoa" type="varbinary" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_SanPham]
					(
					[id_CongTy]
					,[id_LoaiSP]
					,[id_TuDien]
					,[TenSP]
					,[MaSP]
					,[Gia]
					,[MoTaNgan]
					,[MoTaChiTiet]
					,[AnhMinhHoa]
					,[Flag]
					)
				VALUES
					(
					@IdCongTy
					,@IdLoaiSp
					,@IdTuDien
					,@TenSp
					,@MaSp
					,@Gia
					,@MoTaNgan
					,@MoTaChiTiet
					,@AnhMinhHoa
					,@Flag
					)
				
				-- Get the identity value
				SET @IdSanPham = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_SanPham_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_SanPham table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdSanPham" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLoaiSp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdTuDien" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenSp" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@MaSp" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Gia" type="money" direction="Input" size="8" precision="19" scale="4" param="" nulldefault=""/>
				<parameter name="@MoTaNgan" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@MoTaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@AnhMinhHoa" type="varbinary" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_SanPham]
				SET
					[id_CongTy] = @IdCongTy
					,[id_LoaiSP] = @IdLoaiSp
					,[id_TuDien] = @IdTuDien
					,[TenSP] = @TenSp
					,[MaSP] = @MaSp
					,[Gia] = @Gia
					,[MoTaNgan] = @MoTaNgan
					,[MoTaChiTiet] = @MoTaChiTiet
					,[AnhMinhHoa] = @AnhMinhHoa
					,[Flag] = @Flag
				WHERE
[id_SanPham] = @IdSanPham 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_SanPham_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_SanPham table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdSanPham" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_SanPham] WITH (ROWLOCK) 
				WHERE
					[id_SanPham] = @IdSanPham
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_SanPham_GetByIdLoaiSp" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_SanPham table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLoaiSp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_SanPham],
					[id_CongTy],
					[id_LoaiSP],
					[id_TuDien],
					[TenSP],
					[MaSP],
					[Gia],
					[MoTaNgan],
					[MoTaChiTiet],
					[AnhMinhHoa],
					[Flag]
				FROM
					[dbo].[tbl_SanPham]
				WHERE
					[id_LoaiSP] = @IdLoaiSp
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_SanPham_GetByIdSanPham" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_SanPham table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdSanPham" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_SanPham],
					[id_CongTy],
					[id_LoaiSP],
					[id_TuDien],
					[TenSP],
					[MaSP],
					[Gia],
					[MoTaNgan],
					[MoTaChiTiet],
					[AnhMinhHoa],
					[Flag]
				FROM
					[dbo].[tbl_SanPham]
				WHERE
					[id_SanPham] = @IdSanPham
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_SanPham_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_SanPham table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdSanPham" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLoaiSp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdTuDien" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenSp" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@MaSp" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Gia" type="money" direction="Input" size="8" precision="19" scale="4" param="" nulldefault="null"/>
				<parameter name="@MoTaNgan" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@MoTaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@AnhMinhHoa" type="varbinary" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_SanPham]
	, [id_CongTy]
	, [id_LoaiSP]
	, [id_TuDien]
	, [TenSP]
	, [MaSP]
	, [Gia]
	, [MoTaNgan]
	, [MoTaChiTiet]
	, [AnhMinhHoa]
	, [Flag]
    FROM
	[dbo].[tbl_SanPham]
    WHERE 
	 ([id_SanPham] = @IdSanPham OR @IdSanPham is null)
	AND ([id_CongTy] = @IdCongTy OR @IdCongTy is null)
	AND ([id_LoaiSP] = @IdLoaiSp OR @IdLoaiSp is null)
	AND ([id_TuDien] = @IdTuDien OR @IdTuDien is null)
	AND ([TenSP] = @TenSp OR @TenSp is null)
	AND ([MaSP] = @MaSp OR @MaSp is null)
	AND ([Gia] = @Gia OR @Gia is null)
	AND ([MoTaNgan] = @MoTaNgan OR @MoTaNgan is null)
	AND ([MoTaChiTiet] = @MoTaChiTiet OR @MoTaChiTiet is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_SanPham]
	, [id_CongTy]
	, [id_LoaiSP]
	, [id_TuDien]
	, [TenSP]
	, [MaSP]
	, [Gia]
	, [MoTaNgan]
	, [MoTaChiTiet]
	, [AnhMinhHoa]
	, [Flag]
    FROM
	[dbo].[tbl_SanPham]
    WHERE 
	 ([id_SanPham] = @IdSanPham AND @IdSanPham is not null)
	OR ([id_CongTy] = @IdCongTy AND @IdCongTy is not null)
	OR ([id_LoaiSP] = @IdLoaiSp AND @IdLoaiSp is not null)
	OR ([id_TuDien] = @IdTuDien AND @IdTuDien is not null)
	OR ([TenSP] = @TenSp AND @TenSp is not null)
	OR ([MaSP] = @MaSp AND @MaSp is not null)
	OR ([Gia] = @Gia AND @Gia is not null)
	OR ([MoTaNgan] = @MoTaNgan AND @MoTaNgan is not null)
	OR ([MoTaChiTiet] = @MoTaChiTiet AND @MoTaChiTiet is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_SanPham_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_SanPham table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_SanPham] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_SanPham] )
				SELECT TOP {3} [id_SanPham]
				FROM [dbo].[tbl_SanPham] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_SanPham], O.[id_CongTy], O.[id_LoaiSP], O.[id_TuDien], O.[TenSP], O.[MaSP], O.[Gia], O.[MoTaNgan], O.[MoTaChiTiet], O.[AnhMinhHoa], O.[Flag]
				FROM
				    [dbo].[tbl_SanPham] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_SanPham] = PageIndex.[id_SanPham]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_SanPham] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_LoaiSP_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_LoaiSP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_LoaiSP],
					[id_LoaiSPCha],
					[TenLoaiSP],
					[MaLoaiSP],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_LoaiSP]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_LoaiSP_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_LoaiSP table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_LoaiSP] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_LoaiSP])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_LoaiSP]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_LoaiSP]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_LoaiSP], O.[id_LoaiSPCha], O.[TenLoaiSP], O.[MaLoaiSP], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_LoaiSP] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_LoaiSP] = PageIndex.[id_LoaiSP]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_LoaiSP]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_LoaiSP_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_LoaiSP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLoaiSp" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLoaiSpCha" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenLoaiSp" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@MaLoaiSp" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_LoaiSP]
					(
					[id_LoaiSPCha]
					,[TenLoaiSP]
					,[MaLoaiSP]
					,[MoTa]
					,[Flag]
					)
				VALUES
					(
					@IdLoaiSpCha
					,@TenLoaiSp
					,@MaLoaiSp
					,@MoTa
					,@Flag
					)
				
				-- Get the identity value
				SET @IdLoaiSp = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_LoaiSP_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_LoaiSP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLoaiSp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLoaiSpCha" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenLoaiSp" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@MaLoaiSp" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_LoaiSP]
				SET
					[id_LoaiSPCha] = @IdLoaiSpCha
					,[TenLoaiSP] = @TenLoaiSp
					,[MaLoaiSP] = @MaLoaiSp
					,[MoTa] = @MoTa
					,[Flag] = @Flag
				WHERE
[id_LoaiSP] = @IdLoaiSp 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_LoaiSP_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_LoaiSP table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLoaiSp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_LoaiSP] WITH (ROWLOCK) 
				WHERE
					[id_LoaiSP] = @IdLoaiSp
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_LoaiSP_GetByIdLoaiSp" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_LoaiSP table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLoaiSp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_LoaiSP],
					[id_LoaiSPCha],
					[TenLoaiSP],
					[MaLoaiSP],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_LoaiSP]
				WHERE
					[id_LoaiSP] = @IdLoaiSp
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_LoaiSP_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_LoaiSP table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLoaiSp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLoaiSpCha" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenLoaiSp" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@MaLoaiSp" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_LoaiSP]
	, [id_LoaiSPCha]
	, [TenLoaiSP]
	, [MaLoaiSP]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_LoaiSP]
    WHERE 
	 ([id_LoaiSP] = @IdLoaiSp OR @IdLoaiSp is null)
	AND ([id_LoaiSPCha] = @IdLoaiSpCha OR @IdLoaiSpCha is null)
	AND ([TenLoaiSP] = @TenLoaiSp OR @TenLoaiSp is null)
	AND ([MaLoaiSP] = @MaLoaiSp OR @MaLoaiSp is null)
	AND ([MoTa] = @MoTa OR @MoTa is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_LoaiSP]
	, [id_LoaiSPCha]
	, [TenLoaiSP]
	, [MaLoaiSP]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_LoaiSP]
    WHERE 
	 ([id_LoaiSP] = @IdLoaiSp AND @IdLoaiSp is not null)
	OR ([id_LoaiSPCha] = @IdLoaiSpCha AND @IdLoaiSpCha is not null)
	OR ([TenLoaiSP] = @TenLoaiSp AND @TenLoaiSp is not null)
	OR ([MaLoaiSP] = @MaLoaiSp AND @MaLoaiSp is not null)
	OR ([MoTa] = @MoTa AND @MoTa is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_LoaiSP_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_LoaiSP table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_LoaiSP] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_LoaiSP] )
				SELECT TOP {3} [id_LoaiSP]
				FROM [dbo].[tbl_LoaiSP] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_LoaiSP], O.[id_LoaiSPCha], O.[TenLoaiSP], O.[MaLoaiSP], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_LoaiSP] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_LoaiSP] = PageIndex.[id_LoaiSP]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_LoaiSP] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_ThanhPho_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_ThanhPho table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_ThanhPho],
					[id_QuocGia],
					[TenTP],
					[MaTP],
					[Mota],
					[Flag]
				FROM
					[dbo].[tbl_ThanhPho]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_ThanhPho_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_ThanhPho table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_ThanhPho] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_ThanhPho])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_ThanhPho]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_ThanhPho]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_ThanhPho], O.[id_QuocGia], O.[TenTP], O.[MaTP], O.[Mota], O.[Flag]
				FROM
				    [dbo].[tbl_ThanhPho] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_ThanhPho] = PageIndex.[id_ThanhPho]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_ThanhPho]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_ThanhPho_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_ThanhPho table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdThanhPho" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuocGia" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenTp" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@MaTp" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Mota" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_ThanhPho]
					(
					[id_QuocGia]
					,[TenTP]
					,[MaTP]
					,[Mota]
					,[Flag]
					)
				VALUES
					(
					@IdQuocGia
					,@TenTp
					,@MaTp
					,@Mota
					,@Flag
					)
				
				-- Get the identity value
				SET @IdThanhPho = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThanhPho_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_ThanhPho table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdThanhPho" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuocGia" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenTp" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@MaTp" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Mota" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_ThanhPho]
				SET
					[id_QuocGia] = @IdQuocGia
					,[TenTP] = @TenTp
					,[MaTP] = @MaTp
					,[Mota] = @Mota
					,[Flag] = @Flag
				WHERE
[id_ThanhPho] = @IdThanhPho 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThanhPho_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_ThanhPho table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdThanhPho" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_ThanhPho] WITH (ROWLOCK) 
				WHERE
					[id_ThanhPho] = @IdThanhPho
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThanhPho_GetByIdQuocGia" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_ThanhPho table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuocGia" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_ThanhPho],
					[id_QuocGia],
					[TenTP],
					[MaTP],
					[Mota],
					[Flag]
				FROM
					[dbo].[tbl_ThanhPho]
				WHERE
					[id_QuocGia] = @IdQuocGia
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThanhPho_GetByIdThanhPho" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_ThanhPho table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdThanhPho" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_ThanhPho],
					[id_QuocGia],
					[TenTP],
					[MaTP],
					[Mota],
					[Flag]
				FROM
					[dbo].[tbl_ThanhPho]
				WHERE
					[id_ThanhPho] = @IdThanhPho
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_ThanhPho_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_ThanhPho table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdThanhPho" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuocGia" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenTp" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@MaTp" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Mota" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_ThanhPho]
	, [id_QuocGia]
	, [TenTP]
	, [MaTP]
	, [Mota]
	, [Flag]
    FROM
	[dbo].[tbl_ThanhPho]
    WHERE 
	 ([id_ThanhPho] = @IdThanhPho OR @IdThanhPho is null)
	AND ([id_QuocGia] = @IdQuocGia OR @IdQuocGia is null)
	AND ([TenTP] = @TenTp OR @TenTp is null)
	AND ([MaTP] = @MaTp OR @MaTp is null)
	AND ([Mota] = @Mota OR @Mota is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_ThanhPho]
	, [id_QuocGia]
	, [TenTP]
	, [MaTP]
	, [Mota]
	, [Flag]
    FROM
	[dbo].[tbl_ThanhPho]
    WHERE 
	 ([id_ThanhPho] = @IdThanhPho AND @IdThanhPho is not null)
	OR ([id_QuocGia] = @IdQuocGia AND @IdQuocGia is not null)
	OR ([TenTP] = @TenTp AND @TenTp is not null)
	OR ([MaTP] = @MaTp AND @MaTp is not null)
	OR ([Mota] = @Mota AND @Mota is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_ThanhPho_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_ThanhPho table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_ThanhPho] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_ThanhPho] )
				SELECT TOP {3} [id_ThanhPho]
				FROM [dbo].[tbl_ThanhPho] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_ThanhPho], O.[id_QuocGia], O.[TenTP], O.[MaTP], O.[Mota], O.[Flag]
				FROM
				    [dbo].[tbl_ThanhPho] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_ThanhPho] = PageIndex.[id_ThanhPho]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_ThanhPho] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_ThuocTinh_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_ThuocTinh table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_ThuocTinh],
					[TenThuocTinh],
					[MaThuocTinh],
					[Flag]
				FROM
					[dbo].[tbl_ThuocTinh]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_ThuocTinh_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_ThuocTinh table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_ThuocTinh] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_ThuocTinh])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_ThuocTinh]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_ThuocTinh]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_ThuocTinh], O.[TenThuocTinh], O.[MaThuocTinh], O.[Flag]
				FROM
				    [dbo].[tbl_ThuocTinh] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_ThuocTinh] = PageIndex.[id_ThuocTinh]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_ThuocTinh]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_ThuocTinh_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_ThuocTinh table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdThuocTinh" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenThuocTinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaThuocTinh" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_ThuocTinh]
					(
					[TenThuocTinh]
					,[MaThuocTinh]
					,[Flag]
					)
				VALUES
					(
					@TenThuocTinh
					,@MaThuocTinh
					,@Flag
					)
				
				-- Get the identity value
				SET @IdThuocTinh = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThuocTinh_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_ThuocTinh table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdThuocTinh" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenThuocTinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaThuocTinh" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_ThuocTinh]
				SET
					[TenThuocTinh] = @TenThuocTinh
					,[MaThuocTinh] = @MaThuocTinh
					,[Flag] = @Flag
				WHERE
[id_ThuocTinh] = @IdThuocTinh 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThuocTinh_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_ThuocTinh table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdThuocTinh" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_ThuocTinh] WITH (ROWLOCK) 
				WHERE
					[id_ThuocTinh] = @IdThuocTinh
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThuocTinh_GetByIdThuocTinh" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_ThuocTinh table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdThuocTinh" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_ThuocTinh],
					[TenThuocTinh],
					[MaThuocTinh],
					[Flag]
				FROM
					[dbo].[tbl_ThuocTinh]
				WHERE
					[id_ThuocTinh] = @IdThuocTinh
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_ThuocTinh_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_ThuocTinh table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdThuocTinh" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenThuocTinh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MaThuocTinh" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_ThuocTinh]
	, [TenThuocTinh]
	, [MaThuocTinh]
	, [Flag]
    FROM
	[dbo].[tbl_ThuocTinh]
    WHERE 
	 ([id_ThuocTinh] = @IdThuocTinh OR @IdThuocTinh is null)
	AND ([TenThuocTinh] = @TenThuocTinh OR @TenThuocTinh is null)
	AND ([MaThuocTinh] = @MaThuocTinh OR @MaThuocTinh is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_ThuocTinh]
	, [TenThuocTinh]
	, [MaThuocTinh]
	, [Flag]
    FROM
	[dbo].[tbl_ThuocTinh]
    WHERE 
	 ([id_ThuocTinh] = @IdThuocTinh AND @IdThuocTinh is not null)
	OR ([TenThuocTinh] = @TenThuocTinh AND @TenThuocTinh is not null)
	OR ([MaThuocTinh] = @MaThuocTinh AND @MaThuocTinh is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_ThuocTinh_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_ThuocTinh table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_ThuocTinh] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_ThuocTinh] )
				SELECT TOP {3} [id_ThuocTinh]
				FROM [dbo].[tbl_ThuocTinh] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_ThuocTinh], O.[TenThuocTinh], O.[MaThuocTinh], O.[Flag]
				FROM
				    [dbo].[tbl_ThuocTinh] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_ThuocTinh] = PageIndex.[id_ThuocTinh]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_ThuocTinh] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_TuDien_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_TuDien table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_TuDien],
					[id_DanhMuc],
					[TenTu],
					[MaTu],
					[NhomTu],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_TuDien]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_TuDien_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_TuDien table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_TuDien] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_TuDien])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_TuDien]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_TuDien]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_TuDien], O.[id_DanhMuc], O.[TenTu], O.[MaTu], O.[NhomTu], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_TuDien] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_TuDien] = PageIndex.[id_TuDien]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_TuDien]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_TuDien_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_TuDien table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTuDien" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdDanhMuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenTu" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaTu" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@NhomTu" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_TuDien]
					(
					[id_DanhMuc]
					,[TenTu]
					,[MaTu]
					,[NhomTu]
					,[MoTa]
					,[Flag]
					)
				VALUES
					(
					@IdDanhMuc
					,@TenTu
					,@MaTu
					,@NhomTu
					,@MoTa
					,@Flag
					)
				
				-- Get the identity value
				SET @IdTuDien = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_TuDien_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_TuDien table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTuDien" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdDanhMuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenTu" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaTu" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@NhomTu" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_TuDien]
				SET
					[id_DanhMuc] = @IdDanhMuc
					,[TenTu] = @TenTu
					,[MaTu] = @MaTu
					,[NhomTu] = @NhomTu
					,[MoTa] = @MoTa
					,[Flag] = @Flag
				WHERE
[id_TuDien] = @IdTuDien 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_TuDien_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_TuDien table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTuDien" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_TuDien] WITH (ROWLOCK) 
				WHERE
					[id_TuDien] = @IdTuDien
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_TuDien_GetByIdTuDien" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_TuDien table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTuDien" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_TuDien],
					[id_DanhMuc],
					[TenTu],
					[MaTu],
					[NhomTu],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_TuDien]
				WHERE
					[id_TuDien] = @IdTuDien
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_TuDien_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_TuDien table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdTuDien" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdDanhMuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenTu" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MaTu" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@NhomTu" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_TuDien]
	, [id_DanhMuc]
	, [TenTu]
	, [MaTu]
	, [NhomTu]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_TuDien]
    WHERE 
	 ([id_TuDien] = @IdTuDien OR @IdTuDien is null)
	AND ([id_DanhMuc] = @IdDanhMuc OR @IdDanhMuc is null)
	AND ([TenTu] = @TenTu OR @TenTu is null)
	AND ([MaTu] = @MaTu OR @MaTu is null)
	AND ([NhomTu] = @NhomTu OR @NhomTu is null)
	AND ([MoTa] = @MoTa OR @MoTa is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_TuDien]
	, [id_DanhMuc]
	, [TenTu]
	, [MaTu]
	, [NhomTu]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_TuDien]
    WHERE 
	 ([id_TuDien] = @IdTuDien AND @IdTuDien is not null)
	OR ([id_DanhMuc] = @IdDanhMuc AND @IdDanhMuc is not null)
	OR ([TenTu] = @TenTu AND @TenTu is not null)
	OR ([MaTu] = @MaTu AND @MaTu is not null)
	OR ([NhomTu] = @NhomTu AND @NhomTu is not null)
	OR ([MoTa] = @MoTa AND @MoTa is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_TuDien_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_TuDien table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_TuDien] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_TuDien] )
				SELECT TOP {3} [id_TuDien]
				FROM [dbo].[tbl_TuDien] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_TuDien], O.[id_DanhMuc], O.[TenTu], O.[MaTu], O.[NhomTu], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_TuDien] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_TuDien] = PageIndex.[id_TuDien]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_TuDien] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Quan_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_Quan table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_Quan],
					[id_ThanhPho],
					[TenQuan],
					[MaQuan],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_Quan]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Quan_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Quan table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Quan] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_Quan])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_Quan]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Quan]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_Quan], O.[id_ThanhPho], O.[TenQuan], O.[MaQuan], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_Quan] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_Quan] = PageIndex.[id_Quan]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Quan]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_Quan_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_Quan table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuan" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdThanhPho" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenQuan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaQuan" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_Quan]
					(
					[id_ThanhPho]
					,[TenQuan]
					,[MaQuan]
					,[MoTa]
					,[Flag]
					)
				VALUES
					(
					@IdThanhPho
					,@TenQuan
					,@MaQuan
					,@MoTa
					,@Flag
					)
				
				-- Get the identity value
				SET @IdQuan = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Quan_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_Quan table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuan" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdThanhPho" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenQuan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaQuan" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_Quan]
				SET
					[id_ThanhPho] = @IdThanhPho
					,[TenQuan] = @TenQuan
					,[MaQuan] = @MaQuan
					,[MoTa] = @MoTa
					,[Flag] = @Flag
				WHERE
[id_Quan] = @IdQuan 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Quan_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_Quan table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuan" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_Quan] WITH (ROWLOCK) 
				WHERE
					[id_Quan] = @IdQuan
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Quan_GetByIdThanhPho" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_Quan table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdThanhPho" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_Quan],
					[id_ThanhPho],
					[TenQuan],
					[MaQuan],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_Quan]
				WHERE
					[id_ThanhPho] = @IdThanhPho
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Quan_GetByIdQuan" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_Quan table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuan" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_Quan],
					[id_ThanhPho],
					[TenQuan],
					[MaQuan],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_Quan]
				WHERE
					[id_Quan] = @IdQuan
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_Quan_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_Quan table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuan" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdThanhPho" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenQuan" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MaQuan" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_Quan]
	, [id_ThanhPho]
	, [TenQuan]
	, [MaQuan]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_Quan]
    WHERE 
	 ([id_Quan] = @IdQuan OR @IdQuan is null)
	AND ([id_ThanhPho] = @IdThanhPho OR @IdThanhPho is null)
	AND ([TenQuan] = @TenQuan OR @TenQuan is null)
	AND ([MaQuan] = @MaQuan OR @MaQuan is null)
	AND ([MoTa] = @MoTa OR @MoTa is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_Quan]
	, [id_ThanhPho]
	, [TenQuan]
	, [MaQuan]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_Quan]
    WHERE 
	 ([id_Quan] = @IdQuan AND @IdQuan is not null)
	OR ([id_ThanhPho] = @IdThanhPho AND @IdThanhPho is not null)
	OR ([TenQuan] = @TenQuan AND @TenQuan is not null)
	OR ([MaQuan] = @MaQuan AND @MaQuan is not null)
	OR ([MoTa] = @MoTa AND @MoTa is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_Quan_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Quan table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Quan] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_Quan] )
				SELECT TOP {3} [id_Quan]
				FROM [dbo].[tbl_Quan] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_Quan], O.[id_ThanhPho], O.[TenQuan], O.[MaQuan], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_Quan] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_Quan] = PageIndex.[id_Quan]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_Quan] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_TinTuc_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_TinTuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_TinTuc],
					[id_CongTy],
					[TieuDe],
					[MoTaNgan],
					[MoTaChiTiet],
					[KhuyenMai],
					[Flag]
				FROM
					[dbo].[tbl_TinTuc]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_TinTuc_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_TinTuc table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_TinTuc] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_TinTuc])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_TinTuc]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_TinTuc]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_TinTuc], O.[id_CongTy], O.[TieuDe], O.[MoTaNgan], O.[MoTaChiTiet], O.[KhuyenMai], O.[Flag]
				FROM
				    [dbo].[tbl_TinTuc] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_TinTuc] = PageIndex.[id_TinTuc]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_TinTuc]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_TinTuc_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_TinTuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTinTuc" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TieuDe" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@MoTaNgan" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@MoTaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@KhuyenMai" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_TinTuc]
					(
					[id_CongTy]
					,[TieuDe]
					,[MoTaNgan]
					,[MoTaChiTiet]
					,[KhuyenMai]
					,[Flag]
					)
				VALUES
					(
					@IdCongTy
					,@TieuDe
					,@MoTaNgan
					,@MoTaChiTiet
					,@KhuyenMai
					,@Flag
					)
				
				-- Get the identity value
				SET @IdTinTuc = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_TinTuc_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_TinTuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTinTuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TieuDe" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@MoTaNgan" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@MoTaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@KhuyenMai" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_TinTuc]
				SET
					[id_CongTy] = @IdCongTy
					,[TieuDe] = @TieuDe
					,[MoTaNgan] = @MoTaNgan
					,[MoTaChiTiet] = @MoTaChiTiet
					,[KhuyenMai] = @KhuyenMai
					,[Flag] = @Flag
				WHERE
[id_TinTuc] = @IdTinTuc 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_TinTuc_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_TinTuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTinTuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_TinTuc] WITH (ROWLOCK) 
				WHERE
					[id_TinTuc] = @IdTinTuc
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_TinTuc_GetByIdCongTy" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_TinTuc table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_TinTuc],
					[id_CongTy],
					[TieuDe],
					[MoTaNgan],
					[MoTaChiTiet],
					[KhuyenMai],
					[Flag]
				FROM
					[dbo].[tbl_TinTuc]
				WHERE
					[id_CongTy] = @IdCongTy
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_TinTuc_GetByIdTinTuc" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_TinTuc table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTinTuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_TinTuc],
					[id_CongTy],
					[TieuDe],
					[MoTaNgan],
					[MoTaChiTiet],
					[KhuyenMai],
					[Flag]
				FROM
					[dbo].[tbl_TinTuc]
				WHERE
					[id_TinTuc] = @IdTinTuc
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_TinTuc_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_TinTuc table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdTinTuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TieuDe" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@MoTaNgan" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault="null"/>
				<parameter name="@MoTaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@KhuyenMai" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_TinTuc]
	, [id_CongTy]
	, [TieuDe]
	, [MoTaNgan]
	, [MoTaChiTiet]
	, [KhuyenMai]
	, [Flag]
    FROM
	[dbo].[tbl_TinTuc]
    WHERE 
	 ([id_TinTuc] = @IdTinTuc OR @IdTinTuc is null)
	AND ([id_CongTy] = @IdCongTy OR @IdCongTy is null)
	AND ([TieuDe] = @TieuDe OR @TieuDe is null)
	AND ([MoTaNgan] = @MoTaNgan OR @MoTaNgan is null)
	AND ([MoTaChiTiet] = @MoTaChiTiet OR @MoTaChiTiet is null)
	AND ([KhuyenMai] = @KhuyenMai OR @KhuyenMai is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_TinTuc]
	, [id_CongTy]
	, [TieuDe]
	, [MoTaNgan]
	, [MoTaChiTiet]
	, [KhuyenMai]
	, [Flag]
    FROM
	[dbo].[tbl_TinTuc]
    WHERE 
	 ([id_TinTuc] = @IdTinTuc AND @IdTinTuc is not null)
	OR ([id_CongTy] = @IdCongTy AND @IdCongTy is not null)
	OR ([TieuDe] = @TieuDe AND @TieuDe is not null)
	OR ([MoTaNgan] = @MoTaNgan AND @MoTaNgan is not null)
	OR ([MoTaChiTiet] = @MoTaChiTiet AND @MoTaChiTiet is not null)
	OR ([KhuyenMai] = @KhuyenMai AND @KhuyenMai is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_TinTuc_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_TinTuc table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_TinTuc] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_TinTuc] )
				SELECT TOP {3} [id_TinTuc]
				FROM [dbo].[tbl_TinTuc] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_TinTuc], O.[id_CongTy], O.[TieuDe], O.[MoTaNgan], O.[MoTaChiTiet], O.[KhuyenMai], O.[Flag]
				FROM
				    [dbo].[tbl_TinTuc] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_TinTuc] = PageIndex.[id_TinTuc]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_TinTuc] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_ThuocTinhSanPham_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_ThuocTinhSanPham table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_TTSP],
					[id_SanPham],
					[id_ThuocTinh],
					[Value1],
					[Value2],
					[Flag]
				FROM
					[dbo].[tbl_ThuocTinhSanPham]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_ThuocTinhSanPham_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_ThuocTinhSanPham table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_TTSP] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_TTSP])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_TTSP]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_ThuocTinhSanPham]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_TTSP], O.[id_SanPham], O.[id_ThuocTinh], O.[Value1], O.[Value2], O.[Flag]
				FROM
				    [dbo].[tbl_ThuocTinhSanPham] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_TTSP] = PageIndex.[id_TTSP]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_ThuocTinhSanPham]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_ThuocTinhSanPham_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_ThuocTinhSanPham table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTtsp" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdSanPham" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdThuocTinh" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@Value1" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Value2" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_ThuocTinhSanPham]
					(
					[id_SanPham]
					,[id_ThuocTinh]
					,[Value1]
					,[Value2]
					,[Flag]
					)
				VALUES
					(
					@IdSanPham
					,@IdThuocTinh
					,@Value1
					,@Value2
					,@Flag
					)
				
				-- Get the identity value
				SET @IdTtsp = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThuocTinhSanPham_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_ThuocTinhSanPham table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTtsp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdSanPham" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdThuocTinh" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@Value1" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Value2" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_ThuocTinhSanPham]
				SET
					[id_SanPham] = @IdSanPham
					,[id_ThuocTinh] = @IdThuocTinh
					,[Value1] = @Value1
					,[Value2] = @Value2
					,[Flag] = @Flag
				WHERE
[id_TTSP] = @IdTtsp 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThuocTinhSanPham_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_ThuocTinhSanPham table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTtsp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_ThuocTinhSanPham] WITH (ROWLOCK) 
				WHERE
					[id_TTSP] = @IdTtsp
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThuocTinhSanPham_GetByIdSanPham" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_ThuocTinhSanPham table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdSanPham" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_TTSP],
					[id_SanPham],
					[id_ThuocTinh],
					[Value1],
					[Value2],
					[Flag]
				FROM
					[dbo].[tbl_ThuocTinhSanPham]
				WHERE
					[id_SanPham] = @IdSanPham
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThuocTinhSanPham_GetByIdThuocTinh" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_ThuocTinhSanPham table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdThuocTinh" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_TTSP],
					[id_SanPham],
					[id_ThuocTinh],
					[Value1],
					[Value2],
					[Flag]
				FROM
					[dbo].[tbl_ThuocTinhSanPham]
				WHERE
					[id_ThuocTinh] = @IdThuocTinh
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ThuocTinhSanPham_GetByIdTtsp" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_ThuocTinhSanPham table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdTtsp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_TTSP],
					[id_SanPham],
					[id_ThuocTinh],
					[Value1],
					[Value2],
					[Flag]
				FROM
					[dbo].[tbl_ThuocTinhSanPham]
				WHERE
					[id_TTSP] = @IdTtsp
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_ThuocTinhSanPham_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_ThuocTinhSanPham table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdTtsp" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdSanPham" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdThuocTinh" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@Value1" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@Value2" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_TTSP]
	, [id_SanPham]
	, [id_ThuocTinh]
	, [Value1]
	, [Value2]
	, [Flag]
    FROM
	[dbo].[tbl_ThuocTinhSanPham]
    WHERE 
	 ([id_TTSP] = @IdTtsp OR @IdTtsp is null)
	AND ([id_SanPham] = @IdSanPham OR @IdSanPham is null)
	AND ([id_ThuocTinh] = @IdThuocTinh OR @IdThuocTinh is null)
	AND ([Value1] = @Value1 OR @Value1 is null)
	AND ([Value2] = @Value2 OR @Value2 is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_TTSP]
	, [id_SanPham]
	, [id_ThuocTinh]
	, [Value1]
	, [Value2]
	, [Flag]
    FROM
	[dbo].[tbl_ThuocTinhSanPham]
    WHERE 
	 ([id_TTSP] = @IdTtsp AND @IdTtsp is not null)
	OR ([id_SanPham] = @IdSanPham AND @IdSanPham is not null)
	OR ([id_ThuocTinh] = @IdThuocTinh AND @IdThuocTinh is not null)
	OR ([Value1] = @Value1 AND @Value1 is not null)
	OR ([Value2] = @Value2 AND @Value2 is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_ThuocTinhSanPham_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_ThuocTinhSanPham table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_TTSP] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_TTSP] )
				SELECT TOP {3} [id_TTSP]
				FROM [dbo].[tbl_ThuocTinhSanPham] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_TTSP], O.[id_SanPham], O.[id_ThuocTinh], O.[Value1], O.[Value2], O.[Flag]
				FROM
				    [dbo].[tbl_ThuocTinhSanPham] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_TTSP] = PageIndex.[id_TTSP]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_ThuocTinhSanPham] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Language_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_Language table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_Language],
					[TenNN],
					[MaNN],
					[Mota],
					[Flag]
				FROM
					[dbo].[tbl_Language]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Language_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Language table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Language] int 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_Language])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_Language]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Language]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_Language], O.[TenNN], O.[MaNN], O.[Mota], O.[Flag]
				FROM
				    [dbo].[tbl_Language] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_Language] = PageIndex.[id_Language]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Language]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_Language_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_Language table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLanguage" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@TenNn" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaNn" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Mota" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_Language]
					(
					[TenNN]
					,[MaNN]
					,[Mota]
					,[Flag]
					)
				VALUES
					(
					@TenNn
					,@MaNn
					,@Mota
					,@Flag
					)
				
				-- Get the identity value
				SET @IdLanguage = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Language_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_Language table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLanguage" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@TenNn" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaNn" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Mota" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_Language]
				SET
					[TenNN] = @TenNn
					,[MaNN] = @MaNn
					,[Mota] = @Mota
					,[Flag] = @Flag
				WHERE
[id_Language] = @IdLanguage 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Language_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_Language table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLanguage" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_Language] WITH (ROWLOCK) 
				WHERE
					[id_Language] = @IdLanguage
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Language_GetByIdLanguage" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_Language table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLanguage" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_Language],
					[TenNN],
					[MaNN],
					[Mota],
					[Flag]
				FROM
					[dbo].[tbl_Language]
				WHERE
					[id_Language] = @IdLanguage
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_Language_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_Language table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLanguage" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenNn" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MaNn" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Mota" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_Language]
	, [TenNN]
	, [MaNN]
	, [Mota]
	, [Flag]
    FROM
	[dbo].[tbl_Language]
    WHERE 
	 ([id_Language] = @IdLanguage OR @IdLanguage is null)
	AND ([TenNN] = @TenNn OR @TenNn is null)
	AND ([MaNN] = @MaNn OR @MaNn is null)
	AND ([Mota] = @Mota OR @Mota is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_Language]
	, [TenNN]
	, [MaNN]
	, [Mota]
	, [Flag]
    FROM
	[dbo].[tbl_Language]
    WHERE 
	 ([id_Language] = @IdLanguage AND @IdLanguage is not null)
	OR ([TenNN] = @TenNn AND @TenNn is not null)
	OR ([MaNN] = @MaNn AND @MaNn is not null)
	OR ([Mota] = @Mota AND @Mota is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_Language_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Language table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Language] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_Language] )
				SELECT TOP {3} [id_Language]
				FROM [dbo].[tbl_Language] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_Language], O.[TenNN], O.[MaNN], O.[Mota], O.[Flag]
				FROM
				    [dbo].[tbl_Language] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_Language] = PageIndex.[id_Language]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_Language] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_LabelNN_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_LabelNN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_Label],
					[MaLabel],
					[TenLabel],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_LabelNN]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_LabelNN_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_LabelNN table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Label] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_Label])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_Label]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_LabelNN]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_Label], O.[MaLabel], O.[TenLabel], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_LabelNN] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_Label] = PageIndex.[id_Label]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_LabelNN]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_LabelNN_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_LabelNN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLabel" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@MaLabel" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@TenLabel" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_LabelNN]
					(
					[MaLabel]
					,[TenLabel]
					,[MoTa]
					,[Flag]
					)
				VALUES
					(
					@MaLabel
					,@TenLabel
					,@MoTa
					,@Flag
					)
				
				-- Get the identity value
				SET @IdLabel = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_LabelNN_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_LabelNN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLabel" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@MaLabel" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@TenLabel" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_LabelNN]
				SET
					[MaLabel] = @MaLabel
					,[TenLabel] = @TenLabel
					,[MoTa] = @MoTa
					,[Flag] = @Flag
				WHERE
[id_Label] = @IdLabel 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_LabelNN_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_LabelNN table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLabel" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_LabelNN] WITH (ROWLOCK) 
				WHERE
					[id_Label] = @IdLabel
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_LabelNN_GetByIdLabel" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_LabelNN table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLabel" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_Label],
					[MaLabel],
					[TenLabel],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_LabelNN]
				WHERE
					[id_Label] = @IdLabel
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_LabelNN_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_LabelNN table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLabel" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@MaLabel" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@TenLabel" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MoTa" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_Label]
	, [MaLabel]
	, [TenLabel]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_LabelNN]
    WHERE 
	 ([id_Label] = @IdLabel OR @IdLabel is null)
	AND ([MaLabel] = @MaLabel OR @MaLabel is null)
	AND ([TenLabel] = @TenLabel OR @TenLabel is null)
	AND ([MoTa] = @MoTa OR @MoTa is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_Label]
	, [MaLabel]
	, [TenLabel]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_LabelNN]
    WHERE 
	 ([id_Label] = @IdLabel AND @IdLabel is not null)
	OR ([MaLabel] = @MaLabel AND @MaLabel is not null)
	OR ([TenLabel] = @TenLabel AND @TenLabel is not null)
	OR ([MoTa] = @MoTa AND @MoTa is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_LabelNN_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_LabelNN table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Label] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_Label] )
				SELECT TOP {3} [id_Label]
				FROM [dbo].[tbl_LabelNN] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_Label], O.[MaLabel], O.[TenLabel], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_LabelNN] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_Label] = PageIndex.[id_Label]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_LabelNN] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_DanhMuc_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_DanhMuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_DanhMuc],
					[id_DMCha],
					[TenDanhMuc],
					[MaDanhMuc],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_DanhMuc]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_DanhMuc_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_DanhMuc table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_DanhMuc] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_DanhMuc])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_DanhMuc]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_DanhMuc]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_DanhMuc], O.[id_DMCha], O.[TenDanhMuc], O.[MaDanhMuc], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_DanhMuc] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_DanhMuc] = PageIndex.[id_DanhMuc]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_DanhMuc]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_DanhMuc_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_DanhMuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDanhMuc" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdDmCha" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenDanhMuc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaDanhMuc" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_DanhMuc]
					(
					[id_DMCha]
					,[TenDanhMuc]
					,[MaDanhMuc]
					,[MoTa]
					,[Flag]
					)
				VALUES
					(
					@IdDmCha
					,@TenDanhMuc
					,@MaDanhMuc
					,@MoTa
					,@Flag
					)
				
				-- Get the identity value
				SET @IdDanhMuc = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_DanhMuc_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_DanhMuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDanhMuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdDmCha" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenDanhMuc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaDanhMuc" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_DanhMuc]
				SET
					[id_DMCha] = @IdDmCha
					,[TenDanhMuc] = @TenDanhMuc
					,[MaDanhMuc] = @MaDanhMuc
					,[MoTa] = @MoTa
					,[Flag] = @Flag
				WHERE
[id_DanhMuc] = @IdDanhMuc 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_DanhMuc_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_DanhMuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDanhMuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_DanhMuc] WITH (ROWLOCK) 
				WHERE
					[id_DanhMuc] = @IdDanhMuc
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_DanhMuc_GetByIdDanhMuc" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_DanhMuc table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDanhMuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_DanhMuc],
					[id_DMCha],
					[TenDanhMuc],
					[MaDanhMuc],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_DanhMuc]
				WHERE
					[id_DanhMuc] = @IdDanhMuc
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_DanhMuc_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_DanhMuc table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdDanhMuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdDmCha" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenDanhMuc" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MaDanhMuc" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_DanhMuc]
	, [id_DMCha]
	, [TenDanhMuc]
	, [MaDanhMuc]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_DanhMuc]
    WHERE 
	 ([id_DanhMuc] = @IdDanhMuc OR @IdDanhMuc is null)
	AND ([id_DMCha] = @IdDmCha OR @IdDmCha is null)
	AND ([TenDanhMuc] = @TenDanhMuc OR @TenDanhMuc is null)
	AND ([MaDanhMuc] = @MaDanhMuc OR @MaDanhMuc is null)
	AND ([MoTa] = @MoTa OR @MoTa is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_DanhMuc]
	, [id_DMCha]
	, [TenDanhMuc]
	, [MaDanhMuc]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_DanhMuc]
    WHERE 
	 ([id_DanhMuc] = @IdDanhMuc AND @IdDanhMuc is not null)
	OR ([id_DMCha] = @IdDmCha AND @IdDmCha is not null)
	OR ([TenDanhMuc] = @TenDanhMuc AND @TenDanhMuc is not null)
	OR ([MaDanhMuc] = @MaDanhMuc AND @MaDanhMuc is not null)
	OR ([MoTa] = @MoTa AND @MoTa is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_DanhMuc_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_DanhMuc table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_DanhMuc] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_DanhMuc] )
				SELECT TOP {3} [id_DanhMuc]
				FROM [dbo].[tbl_DanhMuc] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_DanhMuc], O.[id_DMCha], O.[TenDanhMuc], O.[MaDanhMuc], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_DanhMuc] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_DanhMuc] = PageIndex.[id_DanhMuc]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_DanhMuc] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_ChuCongTy_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_ChuCongTy table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_ChuCongTy],
					[TenChuCongTy],
					[TenCongTy],
					[TenDangNhap],
					[Password],
					[DiaChi],
					[DienThoaiCD],
					[DienThoaiDD],
					[NgayTao],
					[NgayKetThuc],
					[Flag]
				FROM
					[dbo].[tbl_ChuCongTy]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_ChuCongTy_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_ChuCongTy table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_ChuCongTy] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_ChuCongTy])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_ChuCongTy]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_ChuCongTy]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_ChuCongTy], O.[TenChuCongTy], O.[TenCongTy], O.[TenDangNhap], O.[Password], O.[DiaChi], O.[DienThoaiCD], O.[DienThoaiDD], O.[NgayTao], O.[NgayKetThuc], O.[Flag]
				FROM
				    [dbo].[tbl_ChuCongTy] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_ChuCongTy] = PageIndex.[id_ChuCongTy]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_ChuCongTy]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_ChuCongTy_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_ChuCongTy table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdChuCongTy" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenChuCongTy" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@TenCongTy" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@TenDangNhap" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Password" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@DiaChi" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@DienThoaiCd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@DienThoaiDd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@NgayTao" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@NgayKetThuc" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_ChuCongTy]
					(
					[TenChuCongTy]
					,[TenCongTy]
					,[TenDangNhap]
					,[Password]
					,[DiaChi]
					,[DienThoaiCD]
					,[DienThoaiDD]
					,[NgayTao]
					,[NgayKetThuc]
					,[Flag]
					)
				VALUES
					(
					@TenChuCongTy
					,@TenCongTy
					,@TenDangNhap
					,@Password
					,@DiaChi
					,@DienThoaiCd
					,@DienThoaiDd
					,@NgayTao
					,@NgayKetThuc
					,@Flag
					)
				
				-- Get the identity value
				SET @IdChuCongTy = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ChuCongTy_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_ChuCongTy table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdChuCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenChuCongTy" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@TenCongTy" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@TenDangNhap" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Password" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@DiaChi" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@DienThoaiCd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@DienThoaiDd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@NgayTao" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@NgayKetThuc" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_ChuCongTy]
				SET
					[TenChuCongTy] = @TenChuCongTy
					,[TenCongTy] = @TenCongTy
					,[TenDangNhap] = @TenDangNhap
					,[Password] = @Password
					,[DiaChi] = @DiaChi
					,[DienThoaiCD] = @DienThoaiCd
					,[DienThoaiDD] = @DienThoaiDd
					,[NgayTao] = @NgayTao
					,[NgayKetThuc] = @NgayKetThuc
					,[Flag] = @Flag
				WHERE
[id_ChuCongTy] = @IdChuCongTy 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ChuCongTy_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_ChuCongTy table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdChuCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_ChuCongTy] WITH (ROWLOCK) 
				WHERE
					[id_ChuCongTy] = @IdChuCongTy
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_ChuCongTy_GetByIdChuCongTy" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_ChuCongTy table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdChuCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_ChuCongTy],
					[TenChuCongTy],
					[TenCongTy],
					[TenDangNhap],
					[Password],
					[DiaChi],
					[DienThoaiCD],
					[DienThoaiDD],
					[NgayTao],
					[NgayKetThuc],
					[Flag]
				FROM
					[dbo].[tbl_ChuCongTy]
				WHERE
					[id_ChuCongTy] = @IdChuCongTy
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_ChuCongTy_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_ChuCongTy table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdChuCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenChuCongTy" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@TenCongTy" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@TenDangNhap" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Password" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@DiaChi" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@DienThoaiCd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@DienThoaiDd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@NgayTao" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@NgayKetThuc" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_ChuCongTy]
	, [TenChuCongTy]
	, [TenCongTy]
	, [TenDangNhap]
	, [Password]
	, [DiaChi]
	, [DienThoaiCD]
	, [DienThoaiDD]
	, [NgayTao]
	, [NgayKetThuc]
	, [Flag]
    FROM
	[dbo].[tbl_ChuCongTy]
    WHERE 
	 ([id_ChuCongTy] = @IdChuCongTy OR @IdChuCongTy is null)
	AND ([TenChuCongTy] = @TenChuCongTy OR @TenChuCongTy is null)
	AND ([TenCongTy] = @TenCongTy OR @TenCongTy is null)
	AND ([TenDangNhap] = @TenDangNhap OR @TenDangNhap is null)
	AND ([Password] = @Password OR @Password is null)
	AND ([DiaChi] = @DiaChi OR @DiaChi is null)
	AND ([DienThoaiCD] = @DienThoaiCd OR @DienThoaiCd is null)
	AND ([DienThoaiDD] = @DienThoaiDd OR @DienThoaiDd is null)
	AND ([NgayTao] = @NgayTao OR @NgayTao is null)
	AND ([NgayKetThuc] = @NgayKetThuc OR @NgayKetThuc is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_ChuCongTy]
	, [TenChuCongTy]
	, [TenCongTy]
	, [TenDangNhap]
	, [Password]
	, [DiaChi]
	, [DienThoaiCD]
	, [DienThoaiDD]
	, [NgayTao]
	, [NgayKetThuc]
	, [Flag]
    FROM
	[dbo].[tbl_ChuCongTy]
    WHERE 
	 ([id_ChuCongTy] = @IdChuCongTy AND @IdChuCongTy is not null)
	OR ([TenChuCongTy] = @TenChuCongTy AND @TenChuCongTy is not null)
	OR ([TenCongTy] = @TenCongTy AND @TenCongTy is not null)
	OR ([TenDangNhap] = @TenDangNhap AND @TenDangNhap is not null)
	OR ([Password] = @Password AND @Password is not null)
	OR ([DiaChi] = @DiaChi AND @DiaChi is not null)
	OR ([DienThoaiCD] = @DienThoaiCd AND @DienThoaiCd is not null)
	OR ([DienThoaiDD] = @DienThoaiDd AND @DienThoaiDd is not null)
	OR ([NgayTao] = @NgayTao AND @NgayTao is not null)
	OR ([NgayKetThuc] = @NgayKetThuc AND @NgayKetThuc is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_ChuCongTy_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_ChuCongTy table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_ChuCongTy] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_ChuCongTy] )
				SELECT TOP {3} [id_ChuCongTy]
				FROM [dbo].[tbl_ChuCongTy] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_ChuCongTy], O.[TenChuCongTy], O.[TenCongTy], O.[TenDangNhap], O.[Password], O.[DiaChi], O.[DienThoaiCD], O.[DienThoaiDD], O.[NgayTao], O.[NgayKetThuc], O.[Flag]
				FROM
				    [dbo].[tbl_ChuCongTy] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_ChuCongTy] = PageIndex.[id_ChuCongTy]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_ChuCongTy] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_CongTy_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_CongTy table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_CongTy],
					[id_ChuCongTy],
					[id_DanhMuc],
					[id_QuocGia],
					[id_ThanhPho],
					[id_Quan],
					[id_Duong],
					[id_KhuVuc],
					[SoNha],
					[DienThoaiCD],
					[DienThoaiDD],
					[Fax],
					[Email],
					[Website],
					[HinhThucTT],
					[ThoiGianPV],
					[AnhMinhHoa],
					[GhiChu],
					[MoTaNgan],
					[MoTaChiTiet],
					[Flag]
				FROM
					[dbo].[tbl_CongTy]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_CongTy_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_CongTy table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_CongTy] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_CongTy])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_CongTy]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_CongTy]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_CongTy], O.[id_ChuCongTy], O.[id_DanhMuc], O.[id_QuocGia], O.[id_ThanhPho], O.[id_Quan], O.[id_Duong], O.[id_KhuVuc], O.[SoNha], O.[DienThoaiCD], O.[DienThoaiDD], O.[Fax], O.[Email], O.[Website], O.[HinhThucTT], O.[ThoiGianPV], O.[AnhMinhHoa], O.[GhiChu], O.[MoTaNgan], O.[MoTaChiTiet], O.[Flag]
				FROM
				    [dbo].[tbl_CongTy] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_CongTy] = PageIndex.[id_CongTy]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_CongTy]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_CongTy_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_CongTy table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCongTy" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdChuCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdDanhMuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuocGia" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdThanhPho" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuan" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdDuong" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdKhuVuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@SoNha" type="varchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@DienThoaiCd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@DienThoaiDd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Fax" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Email" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Website" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HinhThucTt" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@ThoiGianPv" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@AnhMinhHoa" type="varchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@GhiChu" type="nvarchar" direction="Input" size="1000" precision="0" scale="0" param="(1000)" nulldefault=""/>
				<parameter name="@MoTaNgan" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@MoTaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_CongTy]
					(
					[id_ChuCongTy]
					,[id_DanhMuc]
					,[id_QuocGia]
					,[id_ThanhPho]
					,[id_Quan]
					,[id_Duong]
					,[id_KhuVuc]
					,[SoNha]
					,[DienThoaiCD]
					,[DienThoaiDD]
					,[Fax]
					,[Email]
					,[Website]
					,[HinhThucTT]
					,[ThoiGianPV]
					,[AnhMinhHoa]
					,[GhiChu]
					,[MoTaNgan]
					,[MoTaChiTiet]
					,[Flag]
					)
				VALUES
					(
					@IdChuCongTy
					,@IdDanhMuc
					,@IdQuocGia
					,@IdThanhPho
					,@IdQuan
					,@IdDuong
					,@IdKhuVuc
					,@SoNha
					,@DienThoaiCd
					,@DienThoaiDd
					,@Fax
					,@Email
					,@Website
					,@HinhThucTt
					,@ThoiGianPv
					,@AnhMinhHoa
					,@GhiChu
					,@MoTaNgan
					,@MoTaChiTiet
					,@Flag
					)
				
				-- Get the identity value
				SET @IdCongTy = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_CongTy_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_CongTy table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdChuCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdDanhMuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuocGia" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdThanhPho" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuan" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdDuong" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdKhuVuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@SoNha" type="varchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@DienThoaiCd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@DienThoaiDd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Fax" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Email" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Website" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HinhThucTt" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@ThoiGianPv" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@AnhMinhHoa" type="varchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@GhiChu" type="nvarchar" direction="Input" size="1000" precision="0" scale="0" param="(1000)" nulldefault=""/>
				<parameter name="@MoTaNgan" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@MoTaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_CongTy]
				SET
					[id_ChuCongTy] = @IdChuCongTy
					,[id_DanhMuc] = @IdDanhMuc
					,[id_QuocGia] = @IdQuocGia
					,[id_ThanhPho] = @IdThanhPho
					,[id_Quan] = @IdQuan
					,[id_Duong] = @IdDuong
					,[id_KhuVuc] = @IdKhuVuc
					,[SoNha] = @SoNha
					,[DienThoaiCD] = @DienThoaiCd
					,[DienThoaiDD] = @DienThoaiDd
					,[Fax] = @Fax
					,[Email] = @Email
					,[Website] = @Website
					,[HinhThucTT] = @HinhThucTt
					,[ThoiGianPV] = @ThoiGianPv
					,[AnhMinhHoa] = @AnhMinhHoa
					,[GhiChu] = @GhiChu
					,[MoTaNgan] = @MoTaNgan
					,[MoTaChiTiet] = @MoTaChiTiet
					,[Flag] = @Flag
				WHERE
[id_CongTy] = @IdCongTy 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_CongTy_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_CongTy table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_CongTy] WITH (ROWLOCK) 
				WHERE
					[id_CongTy] = @IdCongTy
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_CongTy_GetByIdChuCongTy" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_CongTy table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdChuCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_CongTy],
					[id_ChuCongTy],
					[id_DanhMuc],
					[id_QuocGia],
					[id_ThanhPho],
					[id_Quan],
					[id_Duong],
					[id_KhuVuc],
					[SoNha],
					[DienThoaiCD],
					[DienThoaiDD],
					[Fax],
					[Email],
					[Website],
					[HinhThucTT],
					[ThoiGianPV],
					[AnhMinhHoa],
					[GhiChu],
					[MoTaNgan],
					[MoTaChiTiet],
					[Flag]
				FROM
					[dbo].[tbl_CongTy]
				WHERE
					[id_ChuCongTy] = @IdChuCongTy
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_CongTy_GetByIdDanhMuc" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_CongTy table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDanhMuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_CongTy],
					[id_ChuCongTy],
					[id_DanhMuc],
					[id_QuocGia],
					[id_ThanhPho],
					[id_Quan],
					[id_Duong],
					[id_KhuVuc],
					[SoNha],
					[DienThoaiCD],
					[DienThoaiDD],
					[Fax],
					[Email],
					[Website],
					[HinhThucTT],
					[ThoiGianPV],
					[AnhMinhHoa],
					[GhiChu],
					[MoTaNgan],
					[MoTaChiTiet],
					[Flag]
				FROM
					[dbo].[tbl_CongTy]
				WHERE
					[id_DanhMuc] = @IdDanhMuc
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_CongTy_GetByIdCongTy" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_CongTy table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_CongTy],
					[id_ChuCongTy],
					[id_DanhMuc],
					[id_QuocGia],
					[id_ThanhPho],
					[id_Quan],
					[id_Duong],
					[id_KhuVuc],
					[SoNha],
					[DienThoaiCD],
					[DienThoaiDD],
					[Fax],
					[Email],
					[Website],
					[HinhThucTT],
					[ThoiGianPV],
					[AnhMinhHoa],
					[GhiChu],
					[MoTaNgan],
					[MoTaChiTiet],
					[Flag]
				FROM
					[dbo].[tbl_CongTy]
				WHERE
					[id_CongTy] = @IdCongTy
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_CongTy_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_CongTy table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdChuCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdDanhMuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuocGia" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdThanhPho" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuan" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdDuong" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdKhuVuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@SoNha" type="varchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault="null"/>
				<parameter name="@DienThoaiCd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@DienThoaiDd" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Fax" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Email" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Website" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@HinhThucTt" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@ThoiGianPv" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@AnhMinhHoa" type="varchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault="null"/>
				<parameter name="@GhiChu" type="nvarchar" direction="Input" size="1000" precision="0" scale="0" param="(1000)" nulldefault="null"/>
				<parameter name="@MoTaNgan" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault="null"/>
				<parameter name="@MoTaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_CongTy]
	, [id_ChuCongTy]
	, [id_DanhMuc]
	, [id_QuocGia]
	, [id_ThanhPho]
	, [id_Quan]
	, [id_Duong]
	, [id_KhuVuc]
	, [SoNha]
	, [DienThoaiCD]
	, [DienThoaiDD]
	, [Fax]
	, [Email]
	, [Website]
	, [HinhThucTT]
	, [ThoiGianPV]
	, [AnhMinhHoa]
	, [GhiChu]
	, [MoTaNgan]
	, [MoTaChiTiet]
	, [Flag]
    FROM
	[dbo].[tbl_CongTy]
    WHERE 
	 ([id_CongTy] = @IdCongTy OR @IdCongTy is null)
	AND ([id_ChuCongTy] = @IdChuCongTy OR @IdChuCongTy is null)
	AND ([id_DanhMuc] = @IdDanhMuc OR @IdDanhMuc is null)
	AND ([id_QuocGia] = @IdQuocGia OR @IdQuocGia is null)
	AND ([id_ThanhPho] = @IdThanhPho OR @IdThanhPho is null)
	AND ([id_Quan] = @IdQuan OR @IdQuan is null)
	AND ([id_Duong] = @IdDuong OR @IdDuong is null)
	AND ([id_KhuVuc] = @IdKhuVuc OR @IdKhuVuc is null)
	AND ([SoNha] = @SoNha OR @SoNha is null)
	AND ([DienThoaiCD] = @DienThoaiCd OR @DienThoaiCd is null)
	AND ([DienThoaiDD] = @DienThoaiDd OR @DienThoaiDd is null)
	AND ([Fax] = @Fax OR @Fax is null)
	AND ([Email] = @Email OR @Email is null)
	AND ([Website] = @Website OR @Website is null)
	AND ([HinhThucTT] = @HinhThucTt OR @HinhThucTt is null)
	AND ([ThoiGianPV] = @ThoiGianPv OR @ThoiGianPv is null)
	AND ([AnhMinhHoa] = @AnhMinhHoa OR @AnhMinhHoa is null)
	AND ([GhiChu] = @GhiChu OR @GhiChu is null)
	AND ([MoTaNgan] = @MoTaNgan OR @MoTaNgan is null)
	AND ([MoTaChiTiet] = @MoTaChiTiet OR @MoTaChiTiet is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_CongTy]
	, [id_ChuCongTy]
	, [id_DanhMuc]
	, [id_QuocGia]
	, [id_ThanhPho]
	, [id_Quan]
	, [id_Duong]
	, [id_KhuVuc]
	, [SoNha]
	, [DienThoaiCD]
	, [DienThoaiDD]
	, [Fax]
	, [Email]
	, [Website]
	, [HinhThucTT]
	, [ThoiGianPV]
	, [AnhMinhHoa]
	, [GhiChu]
	, [MoTaNgan]
	, [MoTaChiTiet]
	, [Flag]
    FROM
	[dbo].[tbl_CongTy]
    WHERE 
	 ([id_CongTy] = @IdCongTy AND @IdCongTy is not null)
	OR ([id_ChuCongTy] = @IdChuCongTy AND @IdChuCongTy is not null)
	OR ([id_DanhMuc] = @IdDanhMuc AND @IdDanhMuc is not null)
	OR ([id_QuocGia] = @IdQuocGia AND @IdQuocGia is not null)
	OR ([id_ThanhPho] = @IdThanhPho AND @IdThanhPho is not null)
	OR ([id_Quan] = @IdQuan AND @IdQuan is not null)
	OR ([id_Duong] = @IdDuong AND @IdDuong is not null)
	OR ([id_KhuVuc] = @IdKhuVuc AND @IdKhuVuc is not null)
	OR ([SoNha] = @SoNha AND @SoNha is not null)
	OR ([DienThoaiCD] = @DienThoaiCd AND @DienThoaiCd is not null)
	OR ([DienThoaiDD] = @DienThoaiDd AND @DienThoaiDd is not null)
	OR ([Fax] = @Fax AND @Fax is not null)
	OR ([Email] = @Email AND @Email is not null)
	OR ([Website] = @Website AND @Website is not null)
	OR ([HinhThucTT] = @HinhThucTt AND @HinhThucTt is not null)
	OR ([ThoiGianPV] = @ThoiGianPv AND @ThoiGianPv is not null)
	OR ([AnhMinhHoa] = @AnhMinhHoa AND @AnhMinhHoa is not null)
	OR ([GhiChu] = @GhiChu AND @GhiChu is not null)
	OR ([MoTaNgan] = @MoTaNgan AND @MoTaNgan is not null)
	OR ([MoTaChiTiet] = @MoTaChiTiet AND @MoTaChiTiet is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_CongTy_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_CongTy table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_CongTy] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_CongTy] )
				SELECT TOP {3} [id_CongTy]
				FROM [dbo].[tbl_CongTy] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_CongTy], O.[id_ChuCongTy], O.[id_DanhMuc], O.[id_QuocGia], O.[id_ThanhPho], O.[id_Quan], O.[id_Duong], O.[id_KhuVuc], O.[SoNha], O.[DienThoaiCD], O.[DienThoaiDD], O.[Fax], O.[Email], O.[Website], O.[HinhThucTT], O.[ThoiGianPV], O.[AnhMinhHoa], O.[GhiChu], O.[MoTaNgan], O.[MoTaChiTiet], O.[Flag]
				FROM
				    [dbo].[tbl_CongTy] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_CongTy] = PageIndex.[id_CongTy]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_CongTy] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Comment_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_Comment table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_Comment],
					[id_User],
					[id_Congty],
					[TieuDe],
					[NoiDung],
					[Flag]
				FROM
					[dbo].[tbl_Comment]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Comment_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Comment table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Comment] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_Comment])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_Comment]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Comment]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_Comment], O.[id_User], O.[id_Congty], O.[TieuDe], O.[NoiDung], O.[Flag]
				FROM
				    [dbo].[tbl_Comment] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_Comment] = PageIndex.[id_Comment]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Comment]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_Comment_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_Comment table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdComment" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdUser" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCongty" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TieuDe" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@NoiDung" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_Comment]
					(
					[id_User]
					,[id_Congty]
					,[TieuDe]
					,[NoiDung]
					,[Flag]
					)
				VALUES
					(
					@IdUser
					,@IdCongty
					,@TieuDe
					,@NoiDung
					,@Flag
					)
				
				-- Get the identity value
				SET @IdComment = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Comment_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_Comment table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdComment" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdUser" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCongty" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TieuDe" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@NoiDung" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_Comment]
				SET
					[id_User] = @IdUser
					,[id_Congty] = @IdCongty
					,[TieuDe] = @TieuDe
					,[NoiDung] = @NoiDung
					,[Flag] = @Flag
				WHERE
[id_Comment] = @IdComment 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Comment_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_Comment table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdComment" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_Comment] WITH (ROWLOCK) 
				WHERE
					[id_Comment] = @IdComment
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Comment_GetByIdCongty" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_Comment table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCongty" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_Comment],
					[id_User],
					[id_Congty],
					[TieuDe],
					[NoiDung],
					[Flag]
				FROM
					[dbo].[tbl_Comment]
				WHERE
					[id_Congty] = @IdCongty
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Comment_GetByIdUser" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_Comment table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdUser" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_Comment],
					[id_User],
					[id_Congty],
					[TieuDe],
					[NoiDung],
					[Flag]
				FROM
					[dbo].[tbl_Comment]
				WHERE
					[id_User] = @IdUser
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Comment_GetByIdComment" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_Comment table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdComment" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_Comment],
					[id_User],
					[id_Congty],
					[TieuDe],
					[NoiDung],
					[Flag]
				FROM
					[dbo].[tbl_Comment]
				WHERE
					[id_Comment] = @IdComment
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_Comment_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_Comment table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdComment" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdUser" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdCongty" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TieuDe" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@NoiDung" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_Comment]
	, [id_User]
	, [id_Congty]
	, [TieuDe]
	, [NoiDung]
	, [Flag]
    FROM
	[dbo].[tbl_Comment]
    WHERE 
	 ([id_Comment] = @IdComment OR @IdComment is null)
	AND ([id_User] = @IdUser OR @IdUser is null)
	AND ([id_Congty] = @IdCongty OR @IdCongty is null)
	AND ([TieuDe] = @TieuDe OR @TieuDe is null)
	AND ([NoiDung] = @NoiDung OR @NoiDung is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_Comment]
	, [id_User]
	, [id_Congty]
	, [TieuDe]
	, [NoiDung]
	, [Flag]
    FROM
	[dbo].[tbl_Comment]
    WHERE 
	 ([id_Comment] = @IdComment AND @IdComment is not null)
	OR ([id_User] = @IdUser AND @IdUser is not null)
	OR ([id_Congty] = @IdCongty AND @IdCongty is not null)
	OR ([TieuDe] = @TieuDe AND @TieuDe is not null)
	OR ([NoiDung] = @NoiDung AND @NoiDung is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_Comment_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Comment table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Comment] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_Comment] )
				SELECT TOP {3} [id_Comment]
				FROM [dbo].[tbl_Comment] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_Comment], O.[id_User], O.[id_Congty], O.[TieuDe], O.[NoiDung], O.[Flag]
				FROM
				    [dbo].[tbl_Comment] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_Comment] = PageIndex.[id_Comment]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_Comment] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_DichVu_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_DichVu table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_DichVu],
					[id_CongTy],
					[TenDV],
					[MaDV],
					[MotaNgan],
					[MotaChiTiet],
					[Flag]
				FROM
					[dbo].[tbl_DichVu]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_DichVu_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_DichVu table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_DichVu] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_DichVu])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_DichVu]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_DichVu]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_DichVu], O.[id_CongTy], O.[TenDV], O.[MaDV], O.[MotaNgan], O.[MotaChiTiet], O.[Flag]
				FROM
				    [dbo].[tbl_DichVu] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_DichVu] = PageIndex.[id_DichVu]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_DichVu]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_DichVu_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_DichVu table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDichVu" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenDv" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaDv" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MotaNgan" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@MotaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_DichVu]
					(
					[id_CongTy]
					,[TenDV]
					,[MaDV]
					,[MotaNgan]
					,[MotaChiTiet]
					,[Flag]
					)
				VALUES
					(
					@IdCongTy
					,@TenDv
					,@MaDv
					,@MotaNgan
					,@MotaChiTiet
					,@Flag
					)
				
				-- Get the identity value
				SET @IdDichVu = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_DichVu_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_DichVu table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDichVu" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenDv" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaDv" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MotaNgan" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@MotaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_DichVu]
				SET
					[id_CongTy] = @IdCongTy
					,[TenDV] = @TenDv
					,[MaDV] = @MaDv
					,[MotaNgan] = @MotaNgan
					,[MotaChiTiet] = @MotaChiTiet
					,[Flag] = @Flag
				WHERE
[id_DichVu] = @IdDichVu 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_DichVu_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_DichVu table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDichVu" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_DichVu] WITH (ROWLOCK) 
				WHERE
					[id_DichVu] = @IdDichVu
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_DichVu_GetByIdDichVu" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_DichVu table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDichVu" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_DichVu],
					[id_CongTy],
					[TenDV],
					[MaDV],
					[MotaNgan],
					[MotaChiTiet],
					[Flag]
				FROM
					[dbo].[tbl_DichVu]
				WHERE
					[id_DichVu] = @IdDichVu
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_DichVu_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_DichVu table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdDichVu" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenDv" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MaDv" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MotaNgan" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@MotaChiTiet" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_DichVu]
	, [id_CongTy]
	, [TenDV]
	, [MaDV]
	, [MotaNgan]
	, [MotaChiTiet]
	, [Flag]
    FROM
	[dbo].[tbl_DichVu]
    WHERE 
	 ([id_DichVu] = @IdDichVu OR @IdDichVu is null)
	AND ([id_CongTy] = @IdCongTy OR @IdCongTy is null)
	AND ([TenDV] = @TenDv OR @TenDv is null)
	AND ([MaDV] = @MaDv OR @MaDv is null)
	AND ([MotaNgan] = @MotaNgan OR @MotaNgan is null)
	AND ([MotaChiTiet] = @MotaChiTiet OR @MotaChiTiet is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_DichVu]
	, [id_CongTy]
	, [TenDV]
	, [MaDV]
	, [MotaNgan]
	, [MotaChiTiet]
	, [Flag]
    FROM
	[dbo].[tbl_DichVu]
    WHERE 
	 ([id_DichVu] = @IdDichVu AND @IdDichVu is not null)
	OR ([id_CongTy] = @IdCongTy AND @IdCongTy is not null)
	OR ([TenDV] = @TenDv AND @TenDv is not null)
	OR ([MaDV] = @MaDv AND @MaDv is not null)
	OR ([MotaNgan] = @MotaNgan AND @MotaNgan is not null)
	OR ([MotaChiTiet] = @MotaChiTiet AND @MotaChiTiet is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_DichVu_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_DichVu table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_DichVu] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_DichVu] )
				SELECT TOP {3} [id_DichVu]
				FROM [dbo].[tbl_DichVu] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_DichVu], O.[id_CongTy], O.[TenDV], O.[MaDV], O.[MotaNgan], O.[MotaChiTiet], O.[Flag]
				FROM
				    [dbo].[tbl_DichVu] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_DichVu] = PageIndex.[id_DichVu]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_DichVu] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_LabelLanguage_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_LabelLanguage table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_LabelLanguage],
					[id_Language],
					[id_Label],
					[NoiDung],
					[Flag]
				FROM
					[dbo].[tbl_LabelLanguage]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_LabelLanguage_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_LabelLanguage table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_LabelLanguage] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_LabelLanguage])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_LabelLanguage]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_LabelLanguage]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_LabelLanguage], O.[id_Language], O.[id_Label], O.[NoiDung], O.[Flag]
				FROM
				    [dbo].[tbl_LabelLanguage] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_LabelLanguage] = PageIndex.[id_LabelLanguage]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_LabelLanguage]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_LabelLanguage_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_LabelLanguage table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLabelLanguage" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLanguage" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLabel" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@NoiDung" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_LabelLanguage]
					(
					[id_Language]
					,[id_Label]
					,[NoiDung]
					,[Flag]
					)
				VALUES
					(
					@IdLanguage
					,@IdLabel
					,@NoiDung
					,@Flag
					)
				
				-- Get the identity value
				SET @IdLabelLanguage = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_LabelLanguage_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_LabelLanguage table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLabelLanguage" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLanguage" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@IdLabel" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@NoiDung" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_LabelLanguage]
				SET
					[id_Language] = @IdLanguage
					,[id_Label] = @IdLabel
					,[NoiDung] = @NoiDung
					,[Flag] = @Flag
				WHERE
[id_LabelLanguage] = @IdLabelLanguage 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_LabelLanguage_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_LabelLanguage table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLabelLanguage" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_LabelLanguage] WITH (ROWLOCK) 
				WHERE
					[id_LabelLanguage] = @IdLabelLanguage
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_LabelLanguage_GetByIdLabel" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_LabelLanguage table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLabel" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_LabelLanguage],
					[id_Language],
					[id_Label],
					[NoiDung],
					[Flag]
				FROM
					[dbo].[tbl_LabelLanguage]
				WHERE
					[id_Label] = @IdLabel
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_LabelLanguage_GetByIdLanguage" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_LabelLanguage table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLanguage" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_LabelLanguage],
					[id_Language],
					[id_Label],
					[NoiDung],
					[Flag]
				FROM
					[dbo].[tbl_LabelLanguage]
				WHERE
					[id_Language] = @IdLanguage
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_LabelLanguage_GetByIdLabelLanguage" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_LabelLanguage table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdLabelLanguage" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_LabelLanguage],
					[id_Language],
					[id_Label],
					[NoiDung],
					[Flag]
				FROM
					[dbo].[tbl_LabelLanguage]
				WHERE
					[id_LabelLanguage] = @IdLabelLanguage
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_LabelLanguage_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_LabelLanguage table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLabelLanguage" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLanguage" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdLabel" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@NoiDung" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_LabelLanguage]
	, [id_Language]
	, [id_Label]
	, [NoiDung]
	, [Flag]
    FROM
	[dbo].[tbl_LabelLanguage]
    WHERE 
	 ([id_LabelLanguage] = @IdLabelLanguage OR @IdLabelLanguage is null)
	AND ([id_Language] = @IdLanguage OR @IdLanguage is null)
	AND ([id_Label] = @IdLabel OR @IdLabel is null)
	AND ([NoiDung] = @NoiDung OR @NoiDung is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_LabelLanguage]
	, [id_Language]
	, [id_Label]
	, [NoiDung]
	, [Flag]
    FROM
	[dbo].[tbl_LabelLanguage]
    WHERE 
	 ([id_LabelLanguage] = @IdLabelLanguage AND @IdLabelLanguage is not null)
	OR ([id_Language] = @IdLanguage AND @IdLanguage is not null)
	OR ([id_Label] = @IdLabel AND @IdLabel is not null)
	OR ([NoiDung] = @NoiDung AND @NoiDung is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_LabelLanguage_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_LabelLanguage table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_LabelLanguage] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_LabelLanguage] )
				SELECT TOP {3} [id_LabelLanguage]
				FROM [dbo].[tbl_LabelLanguage] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_LabelLanguage], O.[id_Language], O.[id_Label], O.[NoiDung], O.[Flag]
				FROM
				    [dbo].[tbl_LabelLanguage] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_LabelLanguage] = PageIndex.[id_LabelLanguage]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_LabelLanguage] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Duong_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_Duong table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_Duong],
					[id_Quan],
					[TenDuong],
					[MaDuong],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_Duong]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Duong_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Duong table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Duong] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_Duong])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_Duong]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Duong]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_Duong], O.[id_Quan], O.[TenDuong], O.[MaDuong], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_Duong] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_Duong] = PageIndex.[id_Duong]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Duong]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_Duong_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_Duong table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDuong" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuan" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenDuong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaDuong" type="varbinary" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_Duong]
					(
					[id_Quan]
					,[TenDuong]
					,[MaDuong]
					,[MoTa]
					,[Flag]
					)
				VALUES
					(
					@IdQuan
					,@TenDuong
					,@MaDuong
					,@MoTa
					,@Flag
					)
				
				-- Get the identity value
				SET @IdDuong = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Duong_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_Duong table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDuong" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdQuan" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenDuong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MaDuong" type="varbinary" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_Duong]
				SET
					[id_Quan] = @IdQuan
					,[TenDuong] = @TenDuong
					,[MaDuong] = @MaDuong
					,[MoTa] = @MoTa
					,[Flag] = @Flag
				WHERE
[id_Duong] = @IdDuong 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Duong_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_Duong table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDuong" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_Duong] WITH (ROWLOCK) 
				WHERE
					[id_Duong] = @IdDuong
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Duong_GetByIdQuan" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_Duong table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdQuan" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_Duong],
					[id_Quan],
					[TenDuong],
					[MaDuong],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_Duong]
				WHERE
					[id_Quan] = @IdQuan
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Duong_GetByIdDuong" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_Duong table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdDuong" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_Duong],
					[id_Quan],
					[TenDuong],
					[MaDuong],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_Duong]
				WHERE
					[id_Duong] = @IdDuong
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_Duong_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_Duong table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdDuong" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdQuan" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenDuong" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MaDuong" type="varbinary" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_Duong]
	, [id_Quan]
	, [TenDuong]
	, [MaDuong]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_Duong]
    WHERE 
	 ([id_Duong] = @IdDuong OR @IdDuong is null)
	AND ([id_Quan] = @IdQuan OR @IdQuan is null)
	AND ([TenDuong] = @TenDuong OR @TenDuong is null)
	AND ([MoTa] = @MoTa OR @MoTa is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_Duong]
	, [id_Quan]
	, [TenDuong]
	, [MaDuong]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_Duong]
    WHERE 
	 ([id_Duong] = @IdDuong AND @IdDuong is not null)
	OR ([id_Quan] = @IdQuan AND @IdQuan is not null)
	OR ([TenDuong] = @TenDuong AND @TenDuong is not null)
	OR ([MoTa] = @MoTa AND @MoTa is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_Duong_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Duong table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Duong] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_Duong] )
				SELECT TOP {3} [id_Duong]
				FROM [dbo].[tbl_Duong] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_Duong], O.[id_Quan], O.[TenDuong], O.[MaDuong], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_Duong] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_Duong] = PageIndex.[id_Duong]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_Duong] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_KhuVuc_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_KhuVuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_KhuVuc],
					[TenKV],
					[MaKV],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_KhuVuc]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_KhuVuc_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_KhuVuc table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_KhuVuc] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_KhuVuc])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_KhuVuc]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_KhuVuc]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_KhuVuc], O.[TenKV], O.[MaKV], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_KhuVuc] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_KhuVuc] = PageIndex.[id_KhuVuc]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_KhuVuc]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_KhuVuc_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_KhuVuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdKhuVuc" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenKv" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@MaKv" type="varbinary" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="1000" precision="0" scale="0" param="(1000)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_KhuVuc]
					(
					[TenKV]
					,[MaKV]
					,[MoTa]
					,[Flag]
					)
				VALUES
					(
					@TenKv
					,@MaKv
					,@MoTa
					,@Flag
					)
				
				-- Get the identity value
				SET @IdKhuVuc = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_KhuVuc_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_KhuVuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdKhuVuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenKv" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@MaKv" type="varbinary" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="1000" precision="0" scale="0" param="(1000)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_KhuVuc]
				SET
					[TenKV] = @TenKv
					,[MaKV] = @MaKv
					,[MoTa] = @MoTa
					,[Flag] = @Flag
				WHERE
[id_KhuVuc] = @IdKhuVuc 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_KhuVuc_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_KhuVuc table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdKhuVuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_KhuVuc] WITH (ROWLOCK) 
				WHERE
					[id_KhuVuc] = @IdKhuVuc
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_KhuVuc_GetByIdKhuVuc" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_KhuVuc table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdKhuVuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_KhuVuc],
					[TenKV],
					[MaKV],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_KhuVuc]
				WHERE
					[id_KhuVuc] = @IdKhuVuc
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_KhuVuc_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_KhuVuc table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdKhuVuc" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenKv" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@MaKv" type="varbinary" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MoTa" type="nvarchar" direction="Input" size="1000" precision="0" scale="0" param="(1000)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_KhuVuc]
	, [TenKV]
	, [MaKV]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_KhuVuc]
    WHERE 
	 ([id_KhuVuc] = @IdKhuVuc OR @IdKhuVuc is null)
	AND ([TenKV] = @TenKv OR @TenKv is null)
	AND ([MoTa] = @MoTa OR @MoTa is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_KhuVuc]
	, [TenKV]
	, [MaKV]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_KhuVuc]
    WHERE 
	 ([id_KhuVuc] = @IdKhuVuc AND @IdKhuVuc is not null)
	OR ([TenKV] = @TenKv AND @TenKv is not null)
	OR ([MoTa] = @MoTa AND @MoTa is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_KhuVuc_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_KhuVuc table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_KhuVuc] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_KhuVuc] )
				SELECT TOP {3} [id_KhuVuc]
				FROM [dbo].[tbl_KhuVuc] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_KhuVuc], O.[TenKV], O.[MaKV], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_KhuVuc] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_KhuVuc] = PageIndex.[id_KhuVuc]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_KhuVuc] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_User_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_User table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_User],
					[TenDangNhap],
					[Password],
					[HoTen],
					[Email],
					[DiaChi],
					[DienThoai],
					[Website],
					[Avatar],
					[Flag]
				FROM
					[dbo].[tbl_User]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_User_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_User table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_User] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_User])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_User]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_User]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_User], O.[TenDangNhap], O.[Password], O.[HoTen], O.[Email], O.[DiaChi], O.[DienThoai], O.[Website], O.[Avatar], O.[Flag]
				FROM
				    [dbo].[tbl_User] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_User] = PageIndex.[id_User]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_User]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_User_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_User table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdUser" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenDangNhap" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Password" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HoTen" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Email" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@DiaChi" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@DienThoai" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Website" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Avatar" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_User]
					(
					[TenDangNhap]
					,[Password]
					,[HoTen]
					,[Email]
					,[DiaChi]
					,[DienThoai]
					,[Website]
					,[Avatar]
					,[Flag]
					)
				VALUES
					(
					@TenDangNhap
					,@Password
					,@HoTen
					,@Email
					,@DiaChi
					,@DienThoai
					,@Website
					,@Avatar
					,@Flag
					)
				
				-- Get the identity value
				SET @IdUser = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_User_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_User table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdUser" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenDangNhap" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Password" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@HoTen" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Email" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@DiaChi" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@DienThoai" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Website" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Avatar" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_User]
				SET
					[TenDangNhap] = @TenDangNhap
					,[Password] = @Password
					,[HoTen] = @HoTen
					,[Email] = @Email
					,[DiaChi] = @DiaChi
					,[DienThoai] = @DienThoai
					,[Website] = @Website
					,[Avatar] = @Avatar
					,[Flag] = @Flag
				WHERE
[id_User] = @IdUser 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_User_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_User table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdUser" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_User] WITH (ROWLOCK) 
				WHERE
					[id_User] = @IdUser
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_User_GetByIdUser" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_User table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdUser" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_User],
					[TenDangNhap],
					[Password],
					[HoTen],
					[Email],
					[DiaChi],
					[DienThoai],
					[Website],
					[Avatar],
					[Flag]
				FROM
					[dbo].[tbl_User]
				WHERE
					[id_User] = @IdUser
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_User_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_User table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdUser" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenDangNhap" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Password" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@HoTen" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@Email" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@DiaChi" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@DienThoai" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Website" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Avatar" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_User]
	, [TenDangNhap]
	, [Password]
	, [HoTen]
	, [Email]
	, [DiaChi]
	, [DienThoai]
	, [Website]
	, [Avatar]
	, [Flag]
    FROM
	[dbo].[tbl_User]
    WHERE 
	 ([id_User] = @IdUser OR @IdUser is null)
	AND ([TenDangNhap] = @TenDangNhap OR @TenDangNhap is null)
	AND ([Password] = @Password OR @Password is null)
	AND ([HoTen] = @HoTen OR @HoTen is null)
	AND ([Email] = @Email OR @Email is null)
	AND ([DiaChi] = @DiaChi OR @DiaChi is null)
	AND ([DienThoai] = @DienThoai OR @DienThoai is null)
	AND ([Website] = @Website OR @Website is null)
	AND ([Avatar] = @Avatar OR @Avatar is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_User]
	, [TenDangNhap]
	, [Password]
	, [HoTen]
	, [Email]
	, [DiaChi]
	, [DienThoai]
	, [Website]
	, [Avatar]
	, [Flag]
    FROM
	[dbo].[tbl_User]
    WHERE 
	 ([id_User] = @IdUser AND @IdUser is not null)
	OR ([TenDangNhap] = @TenDangNhap AND @TenDangNhap is not null)
	OR ([Password] = @Password AND @Password is not null)
	OR ([HoTen] = @HoTen AND @HoTen is not null)
	OR ([Email] = @Email AND @Email is not null)
	OR ([DiaChi] = @DiaChi AND @DiaChi is not null)
	OR ([DienThoai] = @DienThoai AND @DienThoai is not null)
	OR ([Website] = @Website AND @Website is not null)
	OR ([Avatar] = @Avatar AND @Avatar is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_User_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_User table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_User] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_User] )
				SELECT TOP {3} [id_User]
				FROM [dbo].[tbl_User] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_User], O.[TenDangNhap], O.[Password], O.[HoTen], O.[Email], O.[DiaChi], O.[DienThoai], O.[Website], O.[Avatar], O.[Flag]
				FROM
				    [dbo].[tbl_User] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_User] = PageIndex.[id_User]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_User] {0};
			
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Gallery_Get_List" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tbl_Gallery table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id_Gallery],
					[id_CongTy],
					[TenAnh],
					[DuongDan],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_Gallery]
					
				Select @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tbl_Gallery_GetPaged" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Gallery table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Gallery] bigint 
				)
				
				-- Insert into the temp table
				declare @SQL as nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id_Gallery])'
				SET @SQL = @SQL + ' SELECT'
				IF @PageSize > 0
				BEGIN
					SET @SQL = @SQL + ' TOP ' + convert(nvarchar, @PageUpperBound)
				END
				SET @SQL = @SQL + ' [id_Gallery]'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Gallery]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Populate the temp table
				exec sp_executesql @SQL

				-- Return paged results
				SELECT O.[id_Gallery], O.[id_CongTy], O.[TenAnh], O.[DuongDan], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_Gallery] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id_Gallery] = PageIndex.[id_Gallery]
				ORDER BY
				    PageIndex.IndexId
				
				-- get row count
				SET @SQL = 'SELECT COUNT(*) as TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tbl_Gallery]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				exec sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tbl_Gallery_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tbl_Gallery table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGallery" type="bigint" direction="Output" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenAnh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@DuongDan" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@MoTa" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
					
				INSERT INTO [dbo].[tbl_Gallery]
					(
					[id_CongTy]
					,[TenAnh]
					,[DuongDan]
					,[MoTa]
					,[Flag]
					)
				VALUES
					(
					@IdCongTy
					,@TenAnh
					,@DuongDan
					,@MoTa
					,@Flag
					)
				
				-- Get the identity value
				SET @IdGallery = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Gallery_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tbl_Gallery table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGallery" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
				<parameter name="@TenAnh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@DuongDan" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@MoTa" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tbl_Gallery]
				SET
					[id_CongTy] = @IdCongTy
					,[TenAnh] = @TenAnh
					,[DuongDan] = @DuongDan
					,[MoTa] = @MoTa
					,[Flag] = @Flag
				WHERE
[id_Gallery] = @IdGallery 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Gallery_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tbl_Gallery table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGallery" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tbl_Gallery] WITH (ROWLOCK) 
				WHERE
					[id_Gallery] = @IdGallery
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Gallery_GetByIdCongTy" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_Gallery table through a foreign key
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SET ANSI_NULLS OFF
				
				SELECT
					[id_Gallery],
					[id_CongTy],
					[TenAnh],
					[DuongDan],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_Gallery]
				WHERE
					[id_CongTy] = @IdCongTy
				
				Select @@ROWCOUNT
				SET ANSI_NULLS ON
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tbl_Gallery_GetByIdGallery" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tbl_Gallery table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@IdGallery" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id_Gallery],
					[id_CongTy],
					[TenAnh],
					[DuongDan],
					[MoTa],
					[Flag]
				FROM
					[dbo].[tbl_Gallery]
				WHERE
					[id_Gallery] = @IdGallery
			Select @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tbl_Gallery_Find" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tbl_Gallery table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdGallery" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@IdCongTy" type="bigint" direction="Input" size="8" precision="19" scale="0" param="" nulldefault="null"/>
				<parameter name="@TenAnh" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@DuongDan" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault="null"/>
				<parameter name="@MoTa" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Flag" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id_Gallery]
	, [id_CongTy]
	, [TenAnh]
	, [DuongDan]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_Gallery]
    WHERE 
	 ([id_Gallery] = @IdGallery OR @IdGallery is null)
	AND ([id_CongTy] = @IdCongTy OR @IdCongTy is null)
	AND ([TenAnh] = @TenAnh OR @TenAnh is null)
	AND ([DuongDan] = @DuongDan OR @DuongDan is null)
	AND ([MoTa] = @MoTa OR @MoTa is null)
	AND ([Flag] = @Flag OR @Flag is null)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id_Gallery]
	, [id_CongTy]
	, [TenAnh]
	, [DuongDan]
	, [MoTa]
	, [Flag]
    FROM
	[dbo].[tbl_Gallery]
    WHERE 
	 ([id_Gallery] = @IdGallery AND @IdGallery is not null)
	OR ([id_CongTy] = @IdCongTy AND @IdCongTy is not null)
	OR ([TenAnh] = @TenAnh AND @TenAnh is not null)
	OR ([DuongDan] = @DuongDan AND @DuongDan is not null)
	OR ([MoTa] = @MoTa AND @MoTa is not null)
	OR ([Flag] = @Flag AND @Flag is not null)
	Select @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tbl_Gallery_Find_Dynamic" grant="" skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tbl_Gallery table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				Create Table #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id_Gallery] bigint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id_Gallery] )
				SELECT TOP {3} [id_Gallery]
				FROM [dbo].[tbl_Gallery] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id_Gallery], O.[id_CongTy], O.[TenAnh], O.[DuongDan], O.[MoTa], O.[Flag]
				FROM
				    [dbo].[tbl_Gallery] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id_Gallery] = PageIndex.[id_Gallery]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				select count(*) as TotalRowCount from [dbo].[tbl_Gallery] {0};
			
				END
			]]></body>
		</procedure>
		
</procedures>
</root>
